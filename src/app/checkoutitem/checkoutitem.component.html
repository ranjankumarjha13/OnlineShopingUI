<div class="checkout-container" *ngIf="cart.length > 0; else emptyCart">
  <h2>Mithila Spices & Pickles Store</h2><p>Date: {{ getCurrentDateTime() }}</p>
   
  <table class="invoice-table">
    <thead>
      <tr>
        <th>Item</th>
        <th>Qty</th>
        <th>Price</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cart">
        <td class="item-column">
          <img [src]="item.img" [alt]="item.name" class="item-img">
          <span>{{ item.name }}</span>
        </td>
        <td>{{ item.qty }}<span>&times;</span></td>
        <td>₹{{ item.price }}</td>
        <td>₹{{ item.price * item.qty }}</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="3"><strong>Grand Total</strong></td>
        <td><strong>₹{{ getGrandTotal() }}</strong></td>
      </tr>
    </tfoot>
    <tfoot>
  <tr *ngIf="getDiscount() > 0">
    <td colspan="2">Discount (10%)</td>
    <td>₹{{ getDiscount().toFixed(2) }}</td>
  </tr>
  <tr>
    <td colspan="2"><strong>Grand Total</strong></td>
    <td><strong>₹{{ getTotalAfterDiscount().toFixed(2) }}</strong></td>
  </tr>
</tfoot>
  </table>

  <div class="checkout-options">
    <label for="address">Delivery Address:</label>
    <textarea id="address" [(ngModel)]="address" placeholder="Enter your address"></textarea>

    <label>
      <input type="checkbox" [(ngModel)]="cashOnDelivery">
      Cash on Delivery
    </label>

    <!-- Expected Delivery Date -->
    <p class="delivery-date">
      Expected Delivery Date: 
      {{ expectedDeliveryDate | date:'dd-MMM-yyyy' }}
    </p>

    <!-- Thank You Message -->
    <p class="thank-you-msg">Thanks for shopping with Mithila Spices & Pickles Store!</p>
  </div>

  <div class="buttons">
    <button class="pay-btn" (click)="payNow()">Pay Now</button>
    <button class="download-btn" (click)="downloadInvoice()">Download Invoice</button>
  </div>
</div>


<ng-template #emptyCart>
  <p class="empty-msg">Your cart is empty!</p>
</ng-template>
